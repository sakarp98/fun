<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Be My Valentine üíò</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      min-height:100vh;
      display:flex; align-items:center; justify-content:center;
      background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1);
      background-size:400% 400%; animation:bgMove 12s ease infinite;
      font-family:"Poppins", sans-serif; overflow:hidden;
    }
    @keyframes bgMove {0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

    .card {
      width:min(92%,420px); padding:40px 30px 45px;
      background:rgba(255,255,255,0.75); backdrop-filter:blur(18px);
      border-radius:28px; text-align:center; position:relative;
      box-shadow:0 30px 80px rgba(0,0,0,0.25), inset 0 0 0 1px rgba(255,255,255,0.4);
      animation:cardIn 1.1s ease;
    }
    @keyframes cardIn {from {opacity:0; transform:translateY(30px) scale(0.95);} to{opacity:1; transform:translateY(0) scale(1);}}
    .card::before {
      content:""; position:absolute; inset:-2px; border-radius:30px;
      background: linear-gradient(120deg,#ff4d6d,#ff9a9e,#fbc2eb);
      z-index:-1; filter:blur(20px); opacity:0.7;
    }

    h2 { font-family:"Playfair Display", serif; font-size:28px; color:#4a1c2f; margin-bottom:30px; line-height:1.35;}
    .buttons { position:relative; height:78px; }
    button { position:absolute; padding:14px 36px; border-radius:40px; border:none;
             font-size:16px; font-weight:500; cursor:pointer; transition: all 0.25s ease;
             box-shadow:0 10px 25px rgba(0,0,0,0.15);}
    button:active {transform:scale(0.94);}
    #yes { left:12%; background:linear-gradient(135deg,#ff4d6d,#ff758f); color:#fff;
           box-shadow:0 15px 35px rgba(255,77,109,0.55);}
    #yes:hover {transform:translateY(-3px); box-shadow:0 20px 40px rgba(255,77,109,0.7);}
    #no { left:55%; background: rgba(255,255,255,0.9); color:#777;}
    .hint { margin-top:28px; font-size:13px; color:#6b6b6b; font-style:italic; }

    /* Floating emoji */
    .floating-emoji {
      position:absolute; font-size:36px; pointer-events:none;
      animation: floatUp 2.5s ease forwards;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity:1; }
      100% { transform: translateY(-120px) scale(1.3); opacity:0; }
    }

    @media(max-width:480px){ h2{font-size:23px;} button{padding:12px 28px;font-size:15px;} #yes{left:8%;} #no{left:55%;} }
  </style>
</head>

<body>
<div class="card">
  <img src="https://png.pngtree.com/png-clipart/20201216/original/pngtree-will-you-be-my-valentine-template-png-image_5720104.jpg"
       alt="Will you be my Valentine logo" style="max-width:180px; margin:0 auto 15px; display:block;">
  <h2>Shreya,<br>will you be my Valentine?</h2>

  <div class="buttons">
    <button id="yes">Yes üíñ</button>
    <button id="no">No üôà</button>
  </div>

  <div class="hint">Some love stories don‚Äôt allow ‚Äúno‚Äù ‚ú®</div>
</div>

<audio id="hoverSound" src="https://assets.mixkit.co/sfx/preview/mixkit-cartoon-voice-laugh-343.mp3"></audio>
<audio id="yesSound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>

<script>
  const noBtn = document.getElementById("no");
  const yesBtn = document.getElementById("yes");
  const card = document.querySelector(".card");
  const hoverSound = document.getElementById("hoverSound");
  const yesSound = document.getElementById("yesSound");

  // Emojis
  const sadEmojis = ["üòï","üôÅ","üò¢","üò≠"];
  const happyEmoji = "‚ù§Ô∏è";
  let noHoverCount = 0;

  // Create floating emoji
  function showFloatingEmoji(x, y, emoji) {
    const span = document.createElement("div");
    span.className = "floating-emoji";
    span.innerText = emoji;
    span.style.left = x + "px";
    span.style.top = y + "px";
    document.body.appendChild(span);
    setTimeout(()=>span.remove(), 2500); // remove after animation
  }

  // NO hover
  noBtn.addEventListener("mouseenter", () => {
    hoverSound.currentTime = 0; hoverSound.play();

    const cardRect = card.getBoundingClientRect();
    const yesRect = yesBtn.getBoundingClientRect();
    const btnRect = noBtn.getBoundingClientRect();
    const padding = 10;
    const maxX = cardRect.width - btnRect.width - padding;
    const maxY = cardRect.height - btnRect.height - padding;
    let newLeft, newTop, attempts=0;

    do {
      newLeft = Math.random() * maxX;
      newTop = Math.random() * maxY;
      attempts++;
    } while (
      newLeft + btnRect.width > yesRect.left - cardRect.left &&
      newLeft < yesRect.right - cardRect.left &&
      newTop + btnRect.height > yesRect.top - cardRect.top &&
      newTop < yesRect.bottom - cardRect.top &&
      attempts < 50
    );

    noBtn.style.left = newLeft + "px";
    noBtn.style.top = newTop + "px";

    // Show floating sad emoji
    const emoji = sadEmojis[Math.min(noHoverCount, sadEmojis.length-1)];
    showFloatingEmoji(newLeft + btnRect.width/2, newTop - 40, emoji);
    noHoverCount++;
  });

  // YES hover or click
  yesBtn.addEventListener("mouseenter", () => {
    const btnRect = yesBtn.getBoundingClientRect();
    showFloatingEmoji(btnRect.left + btnRect.width/2, btnRect.top - 40, happyEmoji);
  });

 yesBtn.addEventListener("click", () => {
  yesSound.play();
  confetti({ particleCount: 260, spread:120, origin:{y:0.65}});

  const btnRect = yesBtn.getBoundingClientRect();
  showFloatingEmoji(btnRect.left + btnRect.width/2, btnRect.top - 40, happyEmoji);

  // Wait a bit to show confetti and emoji, then redirect
  setTimeout(() => {
    window.location.href = "date.html"; // redirect to the new page
  }, 1500);
});
</script>
</body>
</html>
